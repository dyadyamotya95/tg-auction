# Telegram Auction Clone

![TypeScript](https://img.shields.io/badge/TypeScript-5.9-blue)
![Node.js](https://img.shields.io/badge/Node.js-20+-green)
![MongoDB](https://img.shields.io/badge/MongoDB-8.0-green)
![Svelte](https://img.shields.io/badge/Svelte-5-orange)

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ö–∞–Ω–∏–∫–∏ –º–Ω–æ–≥–æ—Ä–∞—É–Ω–¥–æ–≤—ã—Ö –∞—É–∫—Ü–∏–æ–Ω–æ–≤ Telegram –¥–ª—è –∫–æ–Ω–∫—É—Ä—Å–∞ Crypto Bot (—è–Ω–≤–∞—Ä—å 2026).

## –ü—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä—É—é —Ä–µ—à–∞–ª Telegram

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ: –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –ø—Ä–æ–¥–∞–∂—É –ª–∏–º–∏—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–¥–∞—Ä–∫–æ–≤. –°–ø—Ä–æ—Å –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –≤ –¥–µ—Å—è—Ç–∫–∏ —Ä–∞–∑. –ë–æ—Ç—ã —Å–∫—É–ø–∞—é—Ç –≤—Å—ë –∑–∞ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã. –ñ–∏–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ —É—Å–ø–µ–≤–∞—é—Ç. 

–ü–µ—Ä–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞ —Ä–µ—à–µ–Ω–∏—è: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞. –ü–æ–º–æ–≥–ª–æ —á–∞—Å—Ç–∏—á–Ω–æ, –Ω–æ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–ª–∞—Å—å ‚Äî **–∫—Ç–æ-—Ç–æ –≥–æ—Ç–æ–≤ –∑–∞–ø–ª–∞—Ç–∏—Ç—å –º–∏–ª–ª–∏–æ–Ω—ã –∑–≤—ë–∑–¥ –∑–∞ —Ç–æ–ø–æ–≤—ã–π –Ω–æ–º–µ—Ä, –∞ –∫—Ç–æ-—Ç–æ —Ö–æ—á–µ—Ç –ø—Ä–æ—Å—Ç–æ —É—Å–ø–µ—Ç—å –∫—É–ø–∏—Ç—å –∑–∞ —Ä–∞–∑—É–º–Ω—É—é —Ü–µ–Ω—É**.

Telegram –ø—Ä–∏—à—ë–ª –∫ —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ–º—É —Ä–µ—à–µ–Ω–∏—é: **–º–Ω–æ–≥–æ—Ä–∞—É–Ω–¥–æ–≤—ã–µ –∞—É–∫—Ü–∏–æ–Ω—ã**. 

–≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –º–µ—Ö–∞–Ω–∏–∫–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–µ—Ñ–∏—Ü–∏—Ç–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ ‚Äî —ç—Ç–æ **—Ñ–∏–ª—å—Ç—Ä —Å–ø—Ä–æ—Å–∞**, –≥–¥–µ –∫–∞–∂–¥—ã–π –Ω–∞—Ö–æ–¥–∏—Ç —Å–≤–æ—é —Ü–µ–Ω—É. –ö—Ç–æ-—Ç–æ –∑–∞–ø–ª–∞—Ç–∏—Ç 5 000 000 ‚≠ê –∑–∞ —Ç–æ–ø-5 –Ω–æ–º–µ—Ä –≤ –ø–µ—Ä–≤–æ–º —Ä–∞—É–Ω–¥–µ. –î—Ä—É–≥–æ–π –¥–æ–∂–¥—ë—Ç—Å—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–∞—É–Ω–¥–∞ –∏ –∫—É–ø–∏—Ç –∑–∞ 2 900 ‚≠ê.

–≠—Ç–∞ –∫–æ–Ω–∫—É—Ä—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Äî –º–æ—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —ç—Ç–æ–π –º–µ—Ö–∞–Ω–∏–∫–∏.

---

## –ß—Ç–æ –∑–¥–µ—Å—å –≥–ª–∞–≤–Ω–æ–µ

–¢—Ä–∏ —Å—Ç–æ–ª–ø–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö —Å—Ç–æ–∏—Ç –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç:

### 1. **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ª–æ–≥–∏–∫–∏**
–ù–µ—Ç –±–∞–≥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–µ—à–∞—é—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É. –ö–∞–∂–¥—ã–π edge-case –ø—Ä–æ–¥—É–º–∞–Ω –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω:
- –ß—Ç–æ –µ—Å–ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –º–µ–Ω—å—à–µ, —á–µ–º –ø–æ–¥–∞—Ä–∫–æ–≤?
- –ß—Ç–æ –µ—Å–ª–∏ –¥–≤–µ —Å—Ç–∞–≤–∫–∏ –ø—Ä–∏—à–ª–∏ –≤ –æ–¥–Ω—É –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—É?
- –ß—Ç–æ –µ—Å–ª–∏ –≤–æ—Ä–∫–µ—Ä —É–ø–∞–ª –≤–æ –≤—Ä–µ–º—è —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–∞—É–Ω–¥–∞?

### 2. **–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
–ù–æ–ª—å —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –∫ –æ—à–∏–±–∫–∞–º —Å –¥–µ–Ω—å–≥–∞–º–∏:
- –î–µ–Ω—å–≥–∏ —É–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è (**hold**), –Ω–æ –Ω–µ —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –¥–æ –ø–æ–±–µ–¥—ã
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `big.js` ‚Äî –Ω–∏–∫–∞–∫–∏—Ö float-–æ—à–∏–±–æ–∫
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ MongoDB –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å
- –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å: –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å –Ω–µ —Å–æ–∑–¥–∞—Å—Ç –¥—É–±–ª–∏–∫–∞—Ç

### 3. **–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –Ω–∞–≥—Ä—É–∑–∫–µ**
–°–∏—Å—Ç–µ–º–∞ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ –≤—ã–¥–µ—Ä–∂–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π –ø—Ä–æ–¥–∞–∫—à–µ–Ω:
- WebSocket –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –±–µ–∑ polling-–∞–¥–∞
- Worker –æ—Ç–¥–µ–ª—ë–Ω –æ—Ç API ‚Äî —Ç—è–∂—ë–ª—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –ª–æ–∫–∏ –∏ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–ª—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

---

## –¶–µ–ª—å –ø—Ä–æ–¥—É–∫—Ç–∞ (–∫–∞–∫ —è –µ—ë –≤–∏–∂—É)

–ù–µ –ø—Ä–æ—Å—Ç–æ "—Ä–∞–∑–¥–∞—Ç—å –ø–æ–¥–∞—Ä–∫–∏". Telegram —Ä–µ—à–∞–ª —Å—Ä–∞–∑—É —á–µ—Ç—ã—Ä–µ –∑–∞–¥–∞—á–∏:

1. **–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–µ—Ä–∏—é –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã—Ö –ø–æ–¥–∞—Ä–∫–æ–≤** ‚Äî –∫–∞–∂–¥—ã–π –ø–æ–ª—É—á–∞–µ—Ç –Ω–æ–º–µ—Ä
2. **–£–≤–µ–ª–∏—á–∏—Ç—å –¥–æ—Ö–æ–¥** ‚Äî –≤—ã—Å–æ–∫–∏–π —Å–ø—Ä–æ—Å —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –≤ revenue —á–µ—Ä–µ–∑ –∞—É–∫—Ü–∏–æ–Ω
3. **–°–Ω–∏–∑–∏—Ç—å –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏** ‚Äî anti-sniping –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç —Å–Ω–∞–π–ø–µ—Ä–æ–≤, –º–Ω–æ–≥–æ—Ä–∞—É–Ω–¥–æ–≤–æ—Å—Ç—å –æ—Ç –±–æ—Ç–æ–≤
4. **–ü–æ–≤—ã—Å–∏—Ç—å –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç—å** ‚Äî –∫–∞–∂–¥—ã–π –º–æ–∂–µ—Ç —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å, –Ω–µ –Ω—É–∂–Ω–æ –±—ã—Ç—å –≤ –ø–µ—Ä–≤—ã—Ö –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Å—Ç–µ–∫ (–ø–æ —É—Å–ª–æ–≤–∏—è–º –∫–æ–Ω–∫—É—Ä—Å–∞):
- **Node.js** + **TypeScript**
- **MongoDB** (Mongoose)

### –ú–æ–π –≤—ã–±–æ—Ä —Å–≤–µ—Ä—Ö—É:
- **Hono** ‚Äî fast, lightweight, built on Web Standards
- **Svelte 5** ‚Äî –¥–ª—è web UI (—Å –Ω–æ–≤—ã–º–∏ runes –∏ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é)
- **Vite** ‚Äî –º–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω–∞—è —Å–±–æ—Ä–∫–∞ (HMR)
- **pnpm** ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ —Å workspace support
- **big.js** ‚Äî –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤
- **tsx** ‚Äî –¥–ª—è dev —Ä–µ–∂–∏–º–∞ —Å hot reload (–±–µ–∑ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–∏)

> **–ü–æ—á–µ–º—É Svelte, –∞ –Ω–µ React?** –í –ø—Ä–æ–¥—É–∫—Ç–æ–≤–æ–π —Å—Ä–µ–¥–µ —á–∞—â–µ –≤—ã–±–∏—Ä–∞—é—Ç React. –ù–æ —ç—Ç–æ –∫–æ–Ω–∫—É—Ä—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –±–µ–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É, –∏ —è —Ö–æ—Ç–µ–ª –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å —Ä–∞–∑–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏. Svelte 5 —Å –Ω–æ–≤—ã–º–∏ runes ‚Äî –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤–ª–∞–¥–µ–Ω–∏—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –ø–æ–¥—Ö–æ–¥–∞–º–∏ –∫ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.

> **–ü–æ—á–µ–º—É pnpm? –ü–æ—Ç–æ–º—É-—á—Ç–æ Workspaces.** –ú–æ–Ω–æ—Ä–µ–ø–∞ –∏–∑ 9 –ø–∞–∫–µ—Ç–æ–≤ (4 apps + 5 packages). –í—Å–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ `workspace:*` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `@tac/core` –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –≤–∏–¥–Ω—ã –≤ `@tac/api` –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏. –û–¥–∏–Ω `pnpm install` ‚Äî –≤—Å–µ –ø–∞–∫–µ—Ç—ã –≥–æ—Ç–æ–≤—ã. –û–¥–∏–Ω `pnpm dev` ‚Äî –≤—Å—ë —Å—Ç–∞—Ä—Ç—É–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
```
apps/                          packages/
  ‚îú‚îÄ api/                        ‚îú‚îÄ core/
  ‚îÇ   Hono API + WebSocket       ‚îÇ   –ß–∏—Å—Ç–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞:
  ‚îÇ   deps: @tac/core, db,       ‚îÇ   - ranking –∞–ª–≥–æ—Ä–∏—Ç–º—ã
  ‚îÇ         shared, telegram     ‚îÇ   - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç–∞–≤–æ–∫
  ‚îÇ                              ‚îÇ   - anti-sniping rules
  ‚îú‚îÄ worker/                     ‚îÇ   (—Ç–æ–ª—å–∫–æ big.js, –Ω–∏–∫–∞–∫–∏—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤)
  ‚îÇ   –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—É–Ω–¥–æ–≤        ‚îÇ
  ‚îÇ   (–æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å)        ‚îú‚îÄ db/
  ‚îÇ   deps: @tac/core, db        ‚îÇ   Mongoose –º–æ–¥–µ–ª–∏ + —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
  ‚îÇ                              ‚îÇ   deps: mongoose, @tac/core
  ‚îú‚îÄ bot/                        ‚îÇ
  ‚îÇ   Telegram Bot               ‚îú‚îÄ shared/
  ‚îÇ   (Mini App entry point)     ‚îÇ   DTO + —Ç–∏–ø—ã + –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã
  ‚îÇ   deps: @tac/telegram        ‚îÇ   (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ api + web)
  ‚îÇ                              ‚îÇ
  ‚îî‚îÄ web/                        ‚îú‚îÄ env/
      Svelte 5 UI                ‚îÇ   –ö–æ–Ω—Ñ–∏–≥ + –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
      deps: @tac/shared          ‚îÇ
                                 ‚îî‚îÄ telegram/
                                     –í–∞–ª–∏–¥–∞—Ü–∏—è initData +
                                     Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (grammy)
```

**–ü–æ—á–µ–º—É —Ç–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**

1. **`@tac/core` ‚Äî —á–∏—Å—Ç—ã–π**  
   –ù–æ–ª—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤. –ú–æ–∂–Ω–æ –≤–∑—è—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å Fastify, Express, Deno ‚Äî —á—Ç–æ —É–≥–æ–¥–Ω–æ. –í—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.

2. **`@tac/shared` ‚Äî –æ–¥–∏–Ω –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è –≤—Å–µ—Ö**  
   API –∏ UI –≥–æ–≤–æ—Ä—è—Ç –Ω–∞ –æ–¥–Ω–æ–º —è–∑—ã–∫–µ —Ç–∏–ø–æ–≤. –ò–∑–º–µ–Ω–∏–ª DTO ‚Äî –æ—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —Å—Ä–∞–∑—É –≤ –æ–±–æ–∏—Ö –º–µ—Å—Ç–∞—Ö.

3. **–¢–∏–ø–∏–∑–∞—Ü–∏—è end-to-end**  
   –û—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö ‚Üí —á–µ—Ä–µ–∑ core ‚Üí –≤ API ‚Üí –¥–æ UI. TypeScript –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—ã–π —à–∞–≥.

4. **–ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –¥–µ–ø–ª–æ–∏**  
   –•–æ—á–µ—à—å –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ worker? –î–µ–ø–ª–æ–∏—à—å —Ç–æ–ª—å–∫–æ `@tac/worker`. API –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.

5. **DX**  
   –ú–µ–Ω—è–µ—à—å –∫–æ–¥ –≤ `@tac/core` ‚Üí tsx –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç `api` –∏ `worker`. –ë–µ–∑ —Ä—É—á–Ω—ã—Ö –ø–µ—Ä–µ—Å–±–æ—Ä–æ–∫.

---

## –ú–µ—Ö–∞–Ω–∏–∫–∞ –∞—É–∫—Ü–∏–æ–Ω–∞ (–∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç)

### TL;DR
–ê—É–∫—Ü–∏–æ–Ω —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ **N —Ä–∞—É–Ω–¥–æ–≤**. –í –∫–∞–∂–¥–æ–º —Ä–∞—É–Ω–¥–µ –≤—ã–∏–≥—Ä—ã–≤–∞—é—Ç **top-K —Å—Ç–∞–≤–æ–∫** –ø–æ —Å—É–º–º–µ. –î–µ–Ω—å–≥–∏ **–Ω–µ —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Å—Ä–∞–∑—É** ‚Äî –æ–Ω–∏ —É—Ö–æ–¥—è—Ç –≤ **hold** (—É–¥–µ—Ä–∂–∞–Ω–∏–µ). –°–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–æ–±–µ–¥–µ. –ü—Ä–æ–∏–≥—Ä–∞–≤—à–∏–º –≤ —Ñ–∏–Ω–∞–ª–µ —É–¥–µ—Ä–∂–∞–Ω–∏–µ —Å–Ω–∏–º–∞–µ—Ç—Å—è.

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∞—É–∫—Ü–∏–æ–Ω–∞

```
Draft ‚Üí Upcoming ‚Üí Active ‚Üí Completed
  ‚Üì         ‚Üì         ‚Üì
—Å–æ–∑–¥–∞–Ω   –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω  –∏–¥—É—Ç —Ä–∞—É–Ω–¥—ã
```

1. **Draft**: –∞—É–∫—Ü–∏–æ–Ω —Å–æ–∑–¥–∞–Ω, –Ω–æ –Ω–µ –∑–∞–ø—É—â–µ–Ω
2. **Upcoming**: –∑–∞–¥–∞–Ω `start_at` –≤ –±—É–¥—É—â–µ–º ‚Üí –Ω–∞ —ç–∫—Ä–∞–Ω–µ **—Ç–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á—ë—Ç–∞**
3. **Active**: —Å—Ç–∞—Ä—Ç–æ–≤–∞–ª –ø–µ—Ä–≤—ã–π —Ä–∞—É–Ω–¥, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–µ–ª–∞—é—Ç —Å—Ç–∞–≤–∫–∏
4. **Completed**: –∑–∞–≤–µ—Ä—à—ë–Ω –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞—É–Ω–¥

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—á—Ç–æ –∑–∞–¥–∞—ë–º –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏)

```typescript
{
  rounds_count: 3,              // –°–∫–æ–ª—å–∫–æ —Ä–∞—É–Ω–¥–æ–≤
  items_per_round: 10,          // –°–∫–æ–ª—å–∫–æ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤—ã–∏–≥—Ä—ã–≤–∞—é—Ç –≤ –∫–∞–∂–¥–æ–º
  first_round_minutes: 60,      // –ü–µ—Ä–≤—ã–π —Ä–∞—É–Ω–¥ –æ–±—ã—á–Ω–æ –¥–ª–∏–Ω–Ω—ã–π
  other_rounds_minutes: 5,      // –û—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî –∫–æ—Ä–æ—Ç–∫–∏–µ
  min_bid: "100",               // –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–≤–∫–∞ (‚≠ê)
  bid_step: "10",               // –®–∞–≥ –ø–æ–≤—ã—à–µ–Ω–∏—è
  anti_sniping: {
    threshold_seconds: 30,      // –ï—Å–ª–∏ —Å—Ç–∞–≤–∫–∞ top-K –∑–∞ 30 —Å–µ–∫ –¥–æ –∫–æ–Ω—Ü–∞...
    extension_seconds: 60,      // ...—Ä–∞—É–Ω–¥ –ø—Ä–æ–¥–ª–µ–≤–∞–µ—Ç—Å—è –Ω–∞ 60 —Å–µ–∫
    max_extensions: 5           // –õ–∏–º–∏—Ç –ø—Ä–æ–¥–ª–µ–Ω–∏–π (0 = –±–µ–∑ –ª–∏–º–∏—Ç–∞)
  },
  start_at: "2026-01-15T12:00:00Z"
}
```

**–ü–æ—á–µ–º—É –∫–æ–Ω—Ñ–∏–≥ —Ç–∞–∫–æ–π?** –í —Ä–∞–Ω–Ω–µ–π –≤–µ—Ä—Å–∏–∏ —è –∑–∞–¥–∞–≤–∞–ª "–≤—Å–µ–≥–æ –ø–æ–¥–∞—Ä–∫–æ–≤ + –≤—Å–µ–≥–æ —Ä–∞—É–Ω–¥–æ–≤", –Ω–æ –ø–æ—è–≤–ª—è–ª–∞—Å—å –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –≤–∏–¥–∞ "10 –ø–æ–¥–∞—Ä–∫–æ–≤ / 3 —Ä–∞—É–Ω–¥–∞ = 3.33". –≠—Ç–æ —Å–ø–æ—Ä–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è. –ü–æ—ç—Ç–æ–º—É –∑–¥–µ—Å—å **–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ K –Ω–∞ —Ä–∞—É–Ω–¥** ‚Äî –ø—Ä–æ—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ.

### –ö–∞–∫ –¥–µ–ª–∞–µ—Ç —Å—Ç–∞–≤–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

**–ß—Ç–æ –≤–∏–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ UI:**
- ‚≠ê ‚Äî –¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è —Å—Ç–∞–≤–æ–∫ (`balance`)
- ‚ùÑÔ∏è ‚Äî –∑–∞–º–æ—Ä–æ–∂–µ–Ω–æ –ø–æ–¥ –∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Ç–∞–≤–∫–∏ (`hold`)

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —Å—Ç–∞–≤–∫–µ:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Å—É–º–º—É (–≤ ‚≠ê)
2. –°–µ—Ä–≤–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
   - –ê—É–∫—Ü–∏–æ–Ω –∞–∫—Ç–∏–≤–µ–Ω (`status: active`)
   - –†–∞—É–Ω–¥ –Ω–µ –∑–∞–∫–æ–Ω—á–∏–ª—Å—è (`now < end_at`)
   - –°—É–º–º–∞ –≤–∞–ª–∏–¥–Ω–∞ –ø–æ `min_bid` / `bid_step`
   - –•–≤–∞—Ç–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤
3. –ï—Å–ª–∏ —Å—Ç–∞–≤–∫–∞ –ø–æ–≤—ã—à–∞–µ—Ç—Å—è ‚Äî —É–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è **–¥–µ–ª—å—Ç–∞**. –ï—Å–ª–∏ –ø–µ—Ä–≤–∞—è ‚Äî –≤—Å—è —Å—É–º–º–∞
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –≤ –æ—Ç–≤–µ—Ç:
   - –°–≤–æ—é —Å—Ç–∞–≤–∫—É (`bid`)
   - –ê–∫—Ç—É–∞–ª—å–Ω—ã–π —Ä–∞—É–Ω–¥ (`round`, –≤–∫–ª—é—á–∞—è `end_at`)
   - –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –±–∞–ª–∞–Ω—Å

**–ù–∏–∫–∞–∫–∏—Ö —Å–ø–∏—Å–∞–Ω–∏–π!** –î–µ–Ω—å–≥–∏ –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è –∏–∑ `balance` –≤ `hold`. –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–ø–∏—Å–∞–Ω–∏–µ (capture) —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–æ–±–µ–¥–µ.

### –ö—Ç–æ –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç: —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ tie-breaker

–í –∫–æ–Ω—Ü–µ —Ä–∞—É–Ω–¥–∞ –≤—ã–±–∏—Ä–∞—é—Ç—Å—è **top-K –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π**. –ü–æ—Ä—è–¥–æ–∫ —Å—Ç—Ä–æ–≥–∏–π –∏ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π:

1. **amount** (–ø–æ —É–±—ã–≤–∞–Ω–∏—é) ‚Äî –±–æ–ª—å—à–µ —Å—Ç–∞–≤–∫–∞ = –≤—ã—à–µ –º–µ—Å—Ç–æ
2. **amount_reached_at** (–ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é) ‚Äî –∫—Ç–æ —Ä–∞–Ω—å—à–µ –¥–æ—Å—Ç–∏–≥ —Å—É–º–º—ã = –≤—ã—à–µ
3. **bid_id** (–ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é) ‚Äî fallback –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ (–¥–µ—Ç–µ—Ä–º–∏–Ω–∏–∑–º)

**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ?** –ë–µ–∑ fallback –ø–æ—Ä—è–¥–æ–∫ –ø—Ä–∏ —Ä–∞–≤–Ω—ã—Ö —Å—Ç–∞–≤–∫–∞—Ö –Ω–µ–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–∏ —Ä–µ—Ç—Ä–∞—è—Ö/–ø–µ—Ä–µ—Å—á—ë—Ç–∞—Ö –º–æ–≥—É—Ç –≤—ã–∏–≥—Ä–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –ª—é–¥–∏. –ù–µ–¥–æ–ø—É—Å—Ç–∏–º–æ.

### Anti-sniping (–ø—Ä–æ–¥–ª–µ–Ω–∏–µ —Ä–∞—É–Ω–¥–∞)

–ú–µ—Ö–∞–Ω–∏–∫–∞ –ø—Ä–æ—Ç–∏–≤ —Å–Ω–∞–π–ø–µ—Ä–æ–≤ ‚Äî —Ç–µ—Ö, –∫—Ç–æ —Å—Ç–∞–≤–∏—Ç –≤ –ø–æ—Å–ª–µ–¥–Ω—é—é —Å–µ–∫—É–Ω–¥—É.

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
- –ï—Å–ª–∏ —Å—Ç–∞–≤–∫–∞ **–ø–æ—Å–ª–µ –ø–µ—Ä–µ—Å—á—ë—Ç–∞** –ø–æ–ø–∞–ª–∞ –≤ top-K
- –ò –¥–æ –∫–æ–Ω—Ü–∞ —Ä–∞—É–Ω–¥–∞ –æ—Å—Ç–∞–ª–æ—Å—å –º–µ–Ω—å—à–µ `threshold_seconds`
- –†–∞—É–Ω–¥ –ø—Ä–æ–¥–ª–µ–≤–∞–µ—Ç—Å—è –Ω–∞ `extension_seconds`

**–í–∞–∂–Ω–æ:** –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –¥–µ–ª–∞–µ—Ç—Å—è –∞—Ç–æ–º–∞—Ä–Ω–æ —á–µ—Ä–µ–∑ —É—Å–ª–æ–≤–Ω—ã–π update, —á—Ç–æ–±—ã –ø—Ä–∏ –∫–æ–Ω–∫—É—Ä–∏—Ä—É—é—â–∏—Ö —Å—Ç–∞–≤–∫–∞—Ö –Ω–µ "—Ç–µ—Ä—è—Ç—å" –ø—Ä–æ–¥–ª–µ–Ω–∏—è –∏ –Ω–µ –ª–æ–º–∞—Ç—å –ª–∏–º–∏—Ç—ã.

```typescript
// –ü—Å–µ–≤–¥–æ–∫–æ–¥
Round.findOneAndUpdate(
  { 
    _id: roundId, 
    extensions_count: { $lt: max_extensions } 
  },
  { 
    $inc: { extensions_count: 1 },
    $set: { end_at: newEndAt }
  }
)
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –∫–æ–Ω—Ü–µ —Ä–∞—É–Ω–¥–∞ (Worker)

–§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—é –¥–µ–ª–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π **worker** (–Ω–µ API). –ü–æ—á–µ–º—É? –≠—Ç–æ —Ç—è–∂—ë–ª–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è, –∏ –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —É—Å—Ç–æ–π—á–∏–≤–æ–π –∫ –ø–∞–¥–µ–Ω–∏—è–º.

**–ê–ª–≥–æ—Ä–∏—Ç–º —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏–∏:**

1. **–õ–æ–∫ —Ä–∞—É–Ω–¥–∞**: —Å—Ç–∞—Ç—É—Å `active` ‚Üí `finalizing` (—É—Å–ª–æ–≤–Ω—ã–π update, —á—Ç–æ–±—ã –¥–≤–∞ –≤–æ—Ä–∫–µ—Ä–∞ –Ω–µ —Å—Ö–≤–∞—Ç–∏–ª–∏ –æ–¥–∏–Ω —Ä–∞—É–Ω–¥)
2. **–í—ã–±–æ—Ä –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π**: —Ä–∞–Ω–∂–∏—Ä—É–µ–º —Å—Ç–∞–≤–∫–∏, –±–µ—Ä—ë–º top-K
3. **–î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è** (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ):
   - –ù–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è –ø–æ–¥–∞—Ä–æ–∫ (`Gifts.findOneAndUpdate({ owner_id: null })`)
   - –°—Ç–∞–≤–∫–∞ ‚Üí `status: won`
   - **Capture**: `hold -= amount` (–¥–µ–Ω—å–≥–∏ —É–∂–µ –±—ã–ª–∏ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –∏–∑ balance –≤ hold –ø—Ä–∏ —Å—Ç–∞–≤–∫–µ)
   - –ó–∞–ø–∏—Å—å –≤ ledger (`type: capture`)
4. **–ï—Å–ª–∏ –µ—Å—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞—É–Ω–¥:**
   - –ü—Ä–æ–∏–≥—Ä–∞–≤—à–∏–µ –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—Å—è: –∏—Ö —Å—Ç–∞–≤–∫–∏ ‚Üí `status: transferred`
   - –°–æ–∑–¥–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ —Å—Ç–∞–≤–∫–∏ –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ä–∞—É–Ω–¥–µ —Å —Ç–æ–π –∂–µ —Å—É–º–º–æ–π
   - –ê—É–∫—Ü–∏–æ–Ω ‚Üí `current_round = next_round_number`
5. **–ï—Å–ª–∏ —Ä–∞—É–Ω–¥ –ø–æ—Å–ª–µ–¥–Ω–∏–π:**
   - **Release**: `hold -= amount`, `balance += amount` (–≤–æ–∑–≤—Ä–∞—Ç –¥–µ–Ω–µ–≥)
   - –°—Ç–∞–≤–∫–∏ ‚Üí `status: refunded`
   - –ê—É–∫—Ü–∏–æ–Ω ‚Üí `status: completed`

**–ö–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç:** –ø–æ–±–µ–¥–∏—Ç–µ–ª—å **–º–æ–∂–µ—Ç —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞** –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ä–∞—É–Ω–¥–µ –∏ –≤—ã–∏–≥—Ä–∞—Ç—å –µ—â—ë –æ–¥–∏–Ω –ø–æ–¥–∞—Ä–æ–∫. –≠—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –º–µ—Ö–∞–Ω–∏–∫–µ Telegram Gift Auctions ‚Äî –æ–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–¥–∞—Ä–∫–æ–≤, –µ—Å–ª–∏ —É –Ω–µ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –∏ –∂–µ–ª–∞–Ω–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ç–æ—Ä–≥–∏.

### Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (WebSocket)

–í–æ –≤—Ä–µ–º—è —Ä–∞—É–Ω–¥–∞ –∫–ª–∏–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç —Å–æ–±—ã—Ç–∏—è:
- `bid` ‚Äî –Ω–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞ (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞)
- `round_extended` ‚Äî —Ä–∞—É–Ω–¥ –ø—Ä–æ–¥–ª—ë–Ω –∏–∑-–∑–∞ anti-sniping
- `pong` ‚Äî keepalive

–ö–æ–≥–¥–∞ —Ç–∞–π–º–µ—Ä –¥–æ—Ö–æ–¥–∏—Ç –¥–æ `0:00`, UI –¥–µ–ª–∞–µ—Ç –∫–æ—Ä–æ—Ç–∫–∏–π polling, –ø–æ–∫–∞ –≤–æ—Ä–∫–µ—Ä –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–∞—É–Ω–¥ ‚Äî **—á—Ç–æ–±—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ "–∑–∞–ª–∏–ø–∞–ª"**.

### Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (Telegram Bot)

–ö—Ä–∏—Ç–∏—á–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–∞–ø—Ä—è–º—É—é –≤ Telegram:

| –°–æ–±—ã—Ç–∏–µ | –¢–µ–∫—Å—Ç | –ö–Ω–æ–ø–∫–∞ |
|---------|-------|--------|
| üèÜ **–ü–æ–±–µ–¥–∞** | `–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ Gift #N –≤ –∞—É–∫—Ü–∏–æ–Ω–µ ¬´Name¬ª!` | –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ—Ñ–∏–ª—å |
| üí∏ **–í–æ–∑–≤—Ä–∞—Ç** | `–ê—É–∫—Ü–∏–æ–Ω –∑–∞–≤–µ—Ä—à—ë–Ω. –í–∞—à–∞ —Å—Ç–∞–≤–∫–∞ X ‚≠êÔ∏è –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞.` | –ê—É–∫—Ü–∏–æ–Ω—ã |
| üîÑ **–ü–µ—Ä–µ–Ω–æ—Å** | `–†–∞—É–Ω–¥ N –∑–∞–≤–µ—Ä—à—ë–Ω! –í—ã –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –≤ —Ä–∞—É–Ω–¥ N+1.` | –û—Ç–∫—Ä—ã—Ç—å –∞—É–∫—Ü–∏–æ–Ω |
| ‚¨áÔ∏è **–ü–µ—Ä–µ–±–∏–ª–∏** | `–í–∞—Å –ø–µ—Ä–µ–±–∏–ª–∏! –í—ã –≤–Ω–µ —Ç–æ–ø-K.` | –ü–æ–¥–Ω—è—Ç—å —Å—Ç–∞–≤–∫—É |

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `grammy` –≤ –ø–∞–∫–µ—Ç–µ `@tac/telegram`. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∏–∑ Worker (–ø–æ–±–µ–¥–∞, –≤–æ–∑–≤—Ä–∞—Ç, –ø–µ—Ä–µ–Ω–æ—Å) –∏ API (–ø–µ—Ä–µ–±–∏–ª–∏).

---

## –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –≤ Telegram —Ç–∞–∫–æ–≥–æ –Ω–µ –ø–æ–π–º–∞—Ç—å ‚Äî —Ç—ã—Å—è—á–∏ —é–∑–µ—Ä–æ–≤. –ù–æ –≤ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥–µ —á—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –º–µ–Ω—å—à–µ, —á–µ–º –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ —Ä–∞—É–Ω–¥–µ?

**–†–µ—à–µ–Ω–∏–µ:** –∞—É–∫—Ü–∏–æ–Ω —Ä–∞–∑–¥–∞—ë—Ç –≤—Å–µ –ø–æ–¥–∞—Ä–∫–∏ –≤ —Ä–∞—É–Ω–¥–µ –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –ø–æ–º–µ—Ç–∫–æ–π `—Ä–∞—Å–ø—Ä–æ–¥–∞–Ω–æ X –∏–∑ Y`. 

(–ü—Ä–∏ –ø—Ä–æ–¥–∞–∂–µ [UFC Strike](https://t.me/auction/ufcstrike) –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–≤–∫–∞ –±—ã–ª–∞ ‚≠ê 250 ‚Äî —è —Å—á–∏—Ç–∞—é, —á—Ç–æ Telegram –≤ —Å–ª—É—á–∞–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–≥–æ —Å–ø—Ä–æ—Å–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞–ª –ø—Ä–æ–¥–∞–∂—É –Ω–∞ –æ–±—ã—á–Ω—ã–π –≥–∏—Ñ—Ç –±–µ–∑ –∞—É–∫—Ü–∏–æ–Ω–∞. –ó–¥–µ—Å—å —ç—Ç–æ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ ‚Äî –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –º–µ—Ö–∞–Ω–∏–∫–∏.)

---

## –î–∏–∞–≥—Ä–∞–º–º—ã

### –°—Ç–∞—Ç—É—Å—ã –∞—É–∫—Ü–∏–æ–Ω–∞

```mermaid
stateDiagram-v2
  [*] --> draft
  draft --> upcoming: start_at –≤ –±—É–¥—É—â–µ–º
  draft --> active: —Å—Ç–∞—Ä—Ç –≤—Ä—É—á–Ω—É—é
  upcoming --> active: now >= start_at (worker)
  active --> completed: —Ñ–∏–Ω–∞–ª –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ä–∞—É–Ω–¥–∞
  active --> completed: –¥–æ—Å—Ä–æ—á–Ω–æ, –µ—Å–ª–∏ –Ω–µ–∫–æ–≥–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å
  completed --> [*]
```

### –°—Ç–∞—Ç—É—Å—ã —Ä–∞—É–Ω–¥–∞

```mermaid
stateDiagram-v2
  [*] --> active
  active --> finalizing: end_at –Ω–∞—Å—Ç—É–ø–∏–ª
  finalizing --> completed: –æ–±—Ä–∞–±–æ—Ç–∫–∞ winners + –ø–µ—Ä–µ–Ω–æ—Å/–≤–æ–∑–≤—Ä–∞—Ç—ã
  completed --> [*]
```

---

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pnpm install

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å—ë —á–µ—Ä–µ–∑ Docker
docker compose up -d --build

# 3. –û—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞ –≤ Telegram
# @TGAuctionCloneBot ‚Üí /start ‚Üí "–û—Ç–∫—Ä—ã—Ç—å –∞—É–∫—Ü–∏–æ–Ω"
```

### –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏?

```bash
# API (–ø–æ—Ä—Ç 3000)
pnpm --filter @tac/api dev

# Worker (—Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—É–Ω–¥–æ–≤)
pnpm --filter @tac/worker dev

# Bot (Telegram Mini App entry point)
pnpm --filter @tac/bot dev

# Web UI (–ø–æ—Ä—Ç 5173)
pnpm --filter @tac/web dev
```

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Å ngrok)

Telegram Mini App —Ç—Ä–µ–±—É–µ—Ç HTTPS. –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```bash
# –ü—Ä–æ–±—Ä–æ—Å–∏—Ç—å Web –Ω–∞—Ä—É–∂—É (API –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ Vite)
ngrok http 5173

# –û–±–Ω–æ–≤–∏—Ç—å .env
WEBAPP_URL=https://xxxx.ngrok-free.app/
```

> **Vite Proxy:** –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ `/api` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–∫—Å–∏—Ä—É—é—Ç—Å—è –Ω–∞ `localhost:3000`, –ø–æ—ç—Ç–æ–º—É –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–¥–Ω–æ–≥–æ ngrok –Ω–∞ Web.

### –¢–µ—Å—Ç—ã

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã
pnpm test

# Unit —Ç–µ—Å—Ç—ã @tac/core
pnpm --filter @tac/core test

# Integration —Ç–µ—Å—Ç—ã API
pnpm --filter @tac/api test
```

**–ß—Ç–æ –ø–æ–∫—Ä—ã—Ç–æ —Ç–µ—Å—Ç–∞–º–∏ (99 —Ç–µ—Å—Ç–æ–≤):**

| –ü–∞–∫–µ—Ç | –¢–∏–ø | –ü–æ–∫—Ä—ã—Ç–∏–µ |
|-------|-----|----------|
| `@tac/core` | Unit (65) | Wallet operations (hold/release/capture), bid validation, ranking, tie-breaker, anti-sniping logic |
| `@tac/api` | Integration (34) | Auction CRUD, bidding flow, balance/hold checks, leaderboard, winners selection, round extensions, **round finalization (capture/refund/transfer)**, edge cases (zero bidders, early completion, multiple wins) |

> **–ü–æ—á–µ–º—É Vitest?** –ë—ã—Å—Ç—Ä—ã–π, –Ω–∞—Ç–∏–≤–Ω—ã–π ESM, –æ—Ç–ª–∏—á–Ω—ã–π DX –∏–∑ –∫–æ—Ä–æ–±–∫–∏. Integration —Ç–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `mongodb-memory-server` —Å replica set –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.

### –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
pnpm dev:api
pnpm dev:worker
pnpm load-test
```

777 –±–æ—Ç–æ–≤, 5 —Ä–∞—É–Ω–¥–æ–≤ –ø–æ 15 —Å–µ–∫. –í—Å–µ —Å—Ç–∞–≤–∫–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ –ø–æ—Å–ª–µ–¥–Ω—é—é —Å–µ–∫—É–Ω–¥—É ‚Äî worst case –¥–ª—è anti-sniping –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏.

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ä–∞—É–Ω–¥–∞ —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
- throughput (—Å—Ç–∞–≤–æ–∫/—Å–µ–∫)
- anti-sniping —Å—Ä–∞–±–æ—Ç–∞–ª
- –ø–æ–±–µ–¥–∏—Ç–µ–ª–∏ –ø–æ–ª—É—á–∏–ª–∏ gifts
- –¥–µ–Ω—å–≥–∏ —Å–ø–∏—Å–∞–ª–∏—Å—å/–≤–µ—Ä–Ω—É–ª–∏—Å—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏

–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –º–µ—Ö–∞–Ω–∏–∫—É –∞—É–∫—Ü–∏–æ–Ω–æ–≤, –Ω–æ –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç production-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É:

- **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî horizontal scaling, sharding, Redis-–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Messaging** ‚Äî –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –º–µ–∂–¥—É Worker –∏ API (—Å–º. –Ω–∏–∂–µ)
- **–ó–∞—â–∏—Ç–∞** ‚Äî rate limiting, IP throttling
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** ‚Äî Prometheus, Grafana, Sentry

### CORS Policy

API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `origin: '*'` ‚Äî —ç—Ç–æ **—Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ** –¥–ª—è Telegram Mini App. –ß—Ç–æ–±—ã —É–ø—Ä–æ—Å—Ç–∏—Ç—å –∑–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ:

1. **–û—Å–Ω–æ–≤–Ω–∞—è –∑–∞—â–∏—Ç–∞ ‚Äî initData**. –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π Telegram initData —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º TTL. –ë–µ–∑ –≤–∞–ª–∏–¥–Ω–æ–π –ø–æ–¥–ø–∏—Å–∏ –∑–∞–ø—Ä–æ—Å –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è.
2. **–î–∞–Ω–Ω—ã–µ –∞—É–∫—Ü–∏–æ–Ω–æ–≤ –ø—É–±–ª–∏—á–Ω—ã**. –õ–∏–¥–µ—Ä–±–æ—Ä–¥, —Å—Ç–∞–≤–∫–∏, —Å–æ—Å—Ç–æ—è–Ω–∏–µ ‚Äî –Ω–µ —Å–µ–∫—Ä–µ—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è. –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (—Å—Ç–∞–≤–∫–∞, —Å—Ç–∞—Ä—Ç) –∑–∞—â–∏—â–µ–Ω—ã initData.

### WebSocket –∏ Worker

Worker (—Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—É–Ω–¥–æ–≤) –∏ API ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã. Worker –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –æ—Ç–ø—Ä–∞–≤–∏—Ç—å WebSocket —Å–æ–±—ã—Ç–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º.

**–¢–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ:** –§—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–µ–ª–∞–µ—Ç polling –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞ —Ä–∞—É–Ω–¥–∞ (0:00) –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è. –≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å.

**Production —Ä–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å Pub/Sub –º–µ–∂–¥—É Worker –∏ API:
1. Worker –ø—É–±–ª–∏–∫—É–µ—Ç `round_ended` / `auction_completed`
2. API –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∏ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è —á–µ—Ä–µ–∑ WebSocket

–î–ª—è –∫–æ–Ω–∫—É—Ä—Å–∞ polling –¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω ‚Äî —Ñ–æ–∫—É—Å –Ω–∞ –¥—Ä—É–≥–æ–º.

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

[![Telegram](https://img.shields.io/badge/Telegram-2CA5E0?style=for-the-badge&logo=telegram&logoColor=white)](https://t.me/dyadyamotya95)
